<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/static/css.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <title>Rainfall Tracker</title>
    </head>
    <body>
        <h1>Rainfall Tracker</h1>
        <ul>
            <li><a href="/month/01">Jan</a> (Total: {{year.data("01")["total"]}})</li>
            <li><a href="/month/02">Feb</a> (Total: {{year.data("02")["total"]}})</li>
            <li><a href="/month/03">Mar</a> (Total: {{year.data("03")["total"]}})</li>
            <li><a href="/month/04">Apr</a> (Total: {{year.data("04")["total"]}})</li>
            <li><a href="/month/05">May</a> (Total: {{year.data("05")["total"]}})</li>
            <li><a href="/month/06">Jun</a> (Total: {{year.data("06")["total"]}})</li>
            <li><a href="/month/07">Jul</a> (Total: {{year.data("07")["total"]}})</li>
            <li><a href="/month/08">Aug</a> (Total: {{year.data("08")["total"]}})</li>
            <li><a href="/month/09">Sep</a> (Total: {{year.data("09")["total"]}})</li>
            <li><a href="/month/10">Oct</a> (Total: {{year.data("10")["total"]}})</li>
            <li><a href="/month/11">Nov</a> (Total: {{year.data("11")["total"]}})</li>
            <li><a href="/month/12">Dec</a> (Total: {{year.data("12")["total"]}})</li>
        </ul>
        <div style="height: 50vh; width: 50%;">
            <canvas id="yeargraph"></canvas>
        </div>
        <script>
            const yearlabels = {{ labels | tojson}};
     
            const yeardata = {
                labels: yearlabels,
                datasets: [{
                    label: 'Rainfall this Year',
                    backgroundColor: 'rgb(255, 99, 132)',
                    borderColor: 'rgb(255, 99, 132)',
                    data: {{ data | tojson}},
                }]
            };
     
            const config = {
                type: 'line',
                data: yeardata,
                options: { maintainAspectRatio: false }
            };
     
            const graph = new Chart(
                document.getElementById('yeargraph'),
                config
            );
     
        </script>
    </body>
</html>